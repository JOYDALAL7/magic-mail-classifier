"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/emails/route";
exports.ids = ["app/api/emails/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist\\client\\components\\action-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist\\client\\components\\action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist\\client\\components\\request-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist\\client\\components\\request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!*********************************************************************************************!*\
  !*** external "next/dist\\client\\components\\static-generation-async-storage.external.js" ***!
  \*********************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist\\client\\components\\static-generation-async-storage.external.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("querystring");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Femails%2Froute&page=%2Fapi%2Femails%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Femails%2Froute.ts&appDir=C%3A%5CUsers%5Cdjjoy%5COneDrive%5CDesktop%5Cmagic%20mail%20classifier%5Cmagic-mail-classifier%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cdjjoy%5COneDrive%5CDesktop%5Cmagic%20mail%20classifier%5Cmagic-mail-classifier&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Femails%2Froute&page=%2Fapi%2Femails%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Femails%2Froute.ts&appDir=C%3A%5CUsers%5Cdjjoy%5COneDrive%5CDesktop%5Cmagic%20mail%20classifier%5Cmagic-mail-classifier%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cdjjoy%5COneDrive%5CDesktop%5Cmagic%20mail%20classifier%5Cmagic-mail-classifier&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var C_Users_djjoy_OneDrive_Desktop_magic_mail_classifier_magic_mail_classifier_app_api_emails_route_ts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/api/emails/route.ts */ \"(rsc)/./app/api/emails/route.ts\");\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/emails/route\",\n        pathname: \"/api/emails\",\n        filename: \"route\",\n        bundlePath: \"app/api/emails/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\djjoy\\\\OneDrive\\\\Desktop\\\\magic mail classifier\\\\magic-mail-classifier\\\\app\\\\api\\\\emails\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_djjoy_OneDrive_Desktop_magic_mail_classifier_magic_mail_classifier_app_api_emails_route_ts__WEBPACK_IMPORTED_MODULE_2__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/emails/route\";\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZlbWFpbHMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmVtYWlscyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmVtYWlscyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNkampveSU1Q09uZURyaXZlJTVDRGVza3RvcCU1Q21hZ2ljJTIwbWFpbCUyMGNsYXNzaWZpZXIlNUNtYWdpYy1tYWlsLWNsYXNzaWZpZXIlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNVc2VycyU1Q2Rqam95JTVDT25lRHJpdmUlNUNEZXNrdG9wJTVDbWFnaWMlMjBtYWlsJTIwY2xhc3NpZmllciU1Q21hZ2ljLW1haWwtY2xhc3NpZmllciZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDMkU7QUFDMUk7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDaUo7O0FBRWpKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFnaWMtbWFpbC1jbGFzc2lmaWVyLz8zNWUxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXGRqam95XFxcXE9uZURyaXZlXFxcXERlc2t0b3BcXFxcbWFnaWMgbWFpbCBjbGFzc2lmaWVyXFxcXG1hZ2ljLW1haWwtY2xhc3NpZmllclxcXFxhcHBcXFxcYXBpXFxcXGVtYWlsc1xcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvZW1haWxzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZW1haWxzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9lbWFpbHMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxkampveVxcXFxPbmVEcml2ZVxcXFxEZXNrdG9wXFxcXG1hZ2ljIG1haWwgY2xhc3NpZmllclxcXFxtYWdpYy1tYWlsLWNsYXNzaWZpZXJcXFxcYXBwXFxcXGFwaVxcXFxlbWFpbHNcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvZW1haWxzL3JvdXRlXCI7XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCwgb3JpZ2luYWxQYXRobmFtZSwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Femails%2Froute&page=%2Fapi%2Femails%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Femails%2Froute.ts&appDir=C%3A%5CUsers%5Cdjjoy%5COneDrive%5CDesktop%5Cmagic%20mail%20classifier%5Cmagic-mail-classifier%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cdjjoy%5COneDrive%5CDesktop%5Cmagic%20mail%20classifier%5Cmagic-mail-classifier&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/auth/[...nextauth]/route.ts":
/*!*********************************************!*\
  !*** ./app/api/auth/[...nextauth]/route.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ handler),\n/* harmony export */   POST: () => (/* binding */ handler),\n/* harmony export */   authOptions: () => (/* binding */ authOptions)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/google */ \"(rsc)/./node_modules/next-auth/providers/google.js\");\n\n\nconst authOptions = {\n    providers: [\n        (0,next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n            clientId: process.env.GOOGLE_CLIENT_ID,\n            clientSecret: process.env.GOOGLE_CLIENT_SECRET,\n            authorization: {\n                params: {\n                    scope: \"openid email profile https://www.googleapis.com/auth/gmail.readonly\"\n                }\n            }\n        })\n    ],\n    callbacks: {\n        async jwt ({ token, account }) {\n            if (account?.access_token) {\n                token.accessToken = account.access_token;\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            session.accessToken = token.accessToken;\n            return session;\n        }\n    },\n    secret: process.env.NEXTAUTH_SECRET\n};\nconst handler = next_auth__WEBPACK_IMPORTED_MODULE_0___default()(authOptions);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBaUM7QUFDdUI7QUFFakQsTUFBTUUsY0FBYztJQUN6QkMsV0FBVztRQUNURixzRUFBY0EsQ0FBQztZQUNiRyxVQUFVQyxRQUFRQyxHQUFHLENBQUNDLGdCQUFnQjtZQUN0Q0MsY0FBY0gsUUFBUUMsR0FBRyxDQUFDRyxvQkFBb0I7WUFDOUNDLGVBQWU7Z0JBQ2JDLFFBQVE7b0JBQ05DLE9BQU87Z0JBQ1Q7WUFDRjtRQUNGO0tBQ0Q7SUFDREMsV0FBVztRQUNULE1BQU1DLEtBQUksRUFBRUMsS0FBSyxFQUFFQyxPQUFPLEVBQUU7WUFDMUIsSUFBSUEsU0FBU0MsY0FBYztnQkFDekJGLE1BQU1HLFdBQVcsR0FBR0YsUUFBUUMsWUFBWTtZQUMxQztZQUNBLE9BQU9GO1FBQ1Q7UUFDQSxNQUFNSSxTQUFRLEVBQUVBLE9BQU8sRUFBRUosS0FBSyxFQUFFO1lBQzlCSSxRQUFRRCxXQUFXLEdBQUdILE1BQU1HLFdBQVc7WUFDdkMsT0FBT0M7UUFDVDtJQUNGO0lBQ0FDLFFBQVFmLFFBQVFDLEdBQUcsQ0FBQ2UsZUFBZTtBQUNyQyxFQUFFO0FBRUYsTUFBTUMsVUFBVXRCLGdEQUFRQSxDQUFDRTtBQUVrQiIsInNvdXJjZXMiOlsid2VicGFjazovL21hZ2ljLW1haWwtY2xhc3NpZmllci8uL2FwcC9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdL3JvdXRlLnRzP2M4YTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE5leHRBdXRoIGZyb20gXCJuZXh0LWF1dGhcIjtcclxuaW1wb3J0IEdvb2dsZVByb3ZpZGVyIGZyb20gXCJuZXh0LWF1dGgvcHJvdmlkZXJzL2dvb2dsZVwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGF1dGhPcHRpb25zID0ge1xyXG4gIHByb3ZpZGVyczogW1xyXG4gICAgR29vZ2xlUHJvdmlkZXIoe1xyXG4gICAgICBjbGllbnRJZDogcHJvY2Vzcy5lbnYuR09PR0xFX0NMSUVOVF9JRCxcclxuICAgICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5HT09HTEVfQ0xJRU5UX1NFQ1JFVCxcclxuICAgICAgYXV0aG9yaXphdGlvbjoge1xyXG4gICAgICAgIHBhcmFtczoge1xyXG4gICAgICAgICAgc2NvcGU6IFwib3BlbmlkIGVtYWlsIHByb2ZpbGUgaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9nbWFpbC5yZWFkb25seVwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICB9KSxcclxuICBdLFxyXG4gIGNhbGxiYWNrczoge1xyXG4gICAgYXN5bmMgand0KHsgdG9rZW4sIGFjY291bnQgfSkge1xyXG4gICAgICBpZiAoYWNjb3VudD8uYWNjZXNzX3Rva2VuKSB7XHJcbiAgICAgICAgdG9rZW4uYWNjZXNzVG9rZW4gPSBhY2NvdW50LmFjY2Vzc190b2tlbjtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdG9rZW47XHJcbiAgICB9LFxyXG4gICAgYXN5bmMgc2Vzc2lvbih7IHNlc3Npb24sIHRva2VuIH0pIHtcclxuICAgICAgc2Vzc2lvbi5hY2Nlc3NUb2tlbiA9IHRva2VuLmFjY2Vzc1Rva2VuO1xyXG4gICAgICByZXR1cm4gc2Vzc2lvbjtcclxuICAgIH0sXHJcbiAgfSxcclxuICBzZWNyZXQ6IHByb2Nlc3MuZW52Lk5FWFRBVVRIX1NFQ1JFVCxcclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZXIgPSBOZXh0QXV0aChhdXRoT3B0aW9ucyk7XHJcblxyXG5leHBvcnQgeyBoYW5kbGVyIGFzIEdFVCwgaGFuZGxlciBhcyBQT1NUIH07XHJcbiJdLCJuYW1lcyI6WyJOZXh0QXV0aCIsIkdvb2dsZVByb3ZpZGVyIiwiYXV0aE9wdGlvbnMiLCJwcm92aWRlcnMiLCJjbGllbnRJZCIsInByb2Nlc3MiLCJlbnYiLCJHT09HTEVfQ0xJRU5UX0lEIiwiY2xpZW50U2VjcmV0IiwiR09PR0xFX0NMSUVOVF9TRUNSRVQiLCJhdXRob3JpemF0aW9uIiwicGFyYW1zIiwic2NvcGUiLCJjYWxsYmFja3MiLCJqd3QiLCJ0b2tlbiIsImFjY291bnQiLCJhY2Nlc3NfdG9rZW4iLCJhY2Nlc3NUb2tlbiIsInNlc3Npb24iLCJzZWNyZXQiLCJORVhUQVVUSF9TRUNSRVQiLCJoYW5kbGVyIiwiR0VUIiwiUE9TVCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/auth/[...nextauth]/route.ts\n");

/***/ }),

/***/ "(rsc)/./app/api/emails/route.ts":
/*!*********************************!*\
  !*** ./app/api/emails/route.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _auth_nextauth_route__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../auth/[...nextauth]/route */ \"(rsc)/./app/api/auth/[...nextauth]/route.ts\");\n\n\nasync function GET(request) {\n    const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_0__.getServerSession)(_auth_nextauth_route__WEBPACK_IMPORTED_MODULE_1__.authOptions);\n    const accessToken = session?.accessToken;\n    if (!accessToken) {\n        return new Response(JSON.stringify({\n            error: \"No access token\"\n        }), {\n            status: 401\n        });\n    }\n    try {\n        // 1. Get latest message IDs\n        const listRes = await fetch(`https://gmail.googleapis.com/gmail/v1/users/me/messages?maxResults=10`, {\n            headers: {\n                Authorization: `Bearer ${accessToken}`\n            }\n        });\n        const list = await listRes.json();\n        if (!list.messages) throw new Error(\"No messages found\");\n        // 2. Fetch details for each message\n        const emails = await Promise.all(list.messages.map(async (msg)=>{\n            const detailRes = await fetch(`https://gmail.googleapis.com/gmail/v1/users/me/messages/${msg.id}`, {\n                headers: {\n                    Authorization: `Bearer ${accessToken}`\n                }\n            });\n            const detail = await detailRes.json();\n            const headers = detail.payload.headers;\n            const getHeader = (name)=>headers.find((h)=>h.name.toLowerCase() === name.toLowerCase())?.value || \"\";\n            return {\n                id: msg.id,\n                sender: getHeader(\"From\"),\n                subject: getHeader(\"Subject\"),\n                snippet: detail.snippet,\n                date: getHeader(\"Date\")\n            };\n        }));\n        return new Response(JSON.stringify({\n            emails\n        }), {\n            status: 200\n        });\n    } catch (e) {\n        return new Response(JSON.stringify({\n            error: e.message || \"Error fetching emails\"\n        }), {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2VtYWlscy9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTZDO0FBQ2E7QUFFbkQsZUFBZUUsSUFBSUMsT0FBZ0I7SUFDeEMsTUFBTUMsVUFBVSxNQUFNSiwyREFBZ0JBLENBQUNDLDZEQUFXQTtJQUNsRCxNQUFNSSxjQUFjRCxTQUFTQztJQUM3QixJQUFJLENBQUNBLGFBQWE7UUFDaEIsT0FBTyxJQUFJQyxTQUFTQyxLQUFLQyxTQUFTLENBQUM7WUFBRUMsT0FBTztRQUFrQixJQUFJO1lBQUVDLFFBQVE7UUFBSTtJQUNsRjtJQUVBLElBQUk7UUFDRiw0QkFBNEI7UUFDNUIsTUFBTUMsVUFBVSxNQUFNQyxNQUNwQixDQUFDLHFFQUFxRSxDQUFDLEVBQ3ZFO1lBQ0VDLFNBQVM7Z0JBQUVDLGVBQWUsQ0FBQyxPQUFPLEVBQUVULFlBQVksQ0FBQztZQUFDO1FBQ3BEO1FBRUYsTUFBTVUsT0FBTyxNQUFNSixRQUFRSyxJQUFJO1FBQy9CLElBQUksQ0FBQ0QsS0FBS0UsUUFBUSxFQUFFLE1BQU0sSUFBSUMsTUFBTTtRQUVwQyxvQ0FBb0M7UUFDcEMsTUFBTUMsU0FBUyxNQUFNQyxRQUFRQyxHQUFHLENBQzlCTixLQUFLRSxRQUFRLENBQUNLLEdBQUcsQ0FBQyxPQUFPQztZQUN2QixNQUFNQyxZQUFZLE1BQU1aLE1BQ3RCLENBQUMsd0RBQXdELEVBQUVXLElBQUlFLEVBQUUsQ0FBQyxDQUFDLEVBQ25FO2dCQUFFWixTQUFTO29CQUFFQyxlQUFlLENBQUMsT0FBTyxFQUFFVCxZQUFZLENBQUM7Z0JBQUM7WUFBRTtZQUV4RCxNQUFNcUIsU0FBUyxNQUFNRixVQUFVUixJQUFJO1lBQ25DLE1BQU1ILFVBQVVhLE9BQU9DLE9BQU8sQ0FBQ2QsT0FBTztZQUN0QyxNQUFNZSxZQUFZLENBQUNDLE9BQ2pCaEIsUUFBUWlCLElBQUksQ0FBQyxDQUFDQyxJQUFXQSxFQUFFRixJQUFJLENBQUNHLFdBQVcsT0FBT0gsS0FBS0csV0FBVyxLQUFLQyxTQUFTO1lBQ2xGLE9BQU87Z0JBQ0xSLElBQUlGLElBQUlFLEVBQUU7Z0JBQ1ZTLFFBQVFOLFVBQVU7Z0JBQ2xCTyxTQUFTUCxVQUFVO2dCQUNuQlEsU0FBU1YsT0FBT1UsT0FBTztnQkFDdkJDLE1BQU1ULFVBQVU7WUFDbEI7UUFDRjtRQUdGLE9BQU8sSUFBSXRCLFNBQVNDLEtBQUtDLFNBQVMsQ0FBQztZQUFFVztRQUFPLElBQUk7WUFBRVQsUUFBUTtRQUFJO0lBQ2hFLEVBQUUsT0FBTzRCLEdBQVE7UUFDZixPQUFPLElBQUloQyxTQUFTQyxLQUFLQyxTQUFTLENBQUM7WUFBRUMsT0FBTzZCLEVBQUVDLE9BQU8sSUFBSTtRQUF3QixJQUFJO1lBQUU3QixRQUFRO1FBQUk7SUFDckc7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL21hZ2ljLW1haWwtY2xhc3NpZmllci8uL2FwcC9hcGkvZW1haWxzL3JvdXRlLnRzP2FmYWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0U2VydmVyU2Vzc2lvbiB9IGZyb20gXCJuZXh0LWF1dGhcIjtcclxuaW1wb3J0IHsgYXV0aE9wdGlvbnMgfSBmcm9tIFwiLi4vYXV0aC9bLi4ubmV4dGF1dGhdL3JvdXRlXCI7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IFJlcXVlc3QpIHtcclxuICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2VydmVyU2Vzc2lvbihhdXRoT3B0aW9ucyk7XHJcbiAgY29uc3QgYWNjZXNzVG9rZW4gPSBzZXNzaW9uPy5hY2Nlc3NUb2tlbjtcclxuICBpZiAoIWFjY2Vzc1Rva2VuKSB7XHJcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHsgZXJyb3I6IFwiTm8gYWNjZXNzIHRva2VuXCIgfSksIHsgc3RhdHVzOiA0MDEgfSk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgLy8gMS4gR2V0IGxhdGVzdCBtZXNzYWdlIElEc1xyXG4gICAgY29uc3QgbGlzdFJlcyA9IGF3YWl0IGZldGNoKFxyXG4gICAgICBgaHR0cHM6Ly9nbWFpbC5nb29nbGVhcGlzLmNvbS9nbWFpbC92MS91c2Vycy9tZS9tZXNzYWdlcz9tYXhSZXN1bHRzPTEwYCxcclxuICAgICAge1xyXG4gICAgICAgIGhlYWRlcnM6IHsgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke2FjY2Vzc1Rva2VufWAgfSxcclxuICAgICAgfVxyXG4gICAgKTtcclxuICAgIGNvbnN0IGxpc3QgPSBhd2FpdCBsaXN0UmVzLmpzb24oKTtcclxuICAgIGlmICghbGlzdC5tZXNzYWdlcykgdGhyb3cgbmV3IEVycm9yKFwiTm8gbWVzc2FnZXMgZm91bmRcIik7XHJcblxyXG4gICAgLy8gMi4gRmV0Y2ggZGV0YWlscyBmb3IgZWFjaCBtZXNzYWdlXHJcbiAgICBjb25zdCBlbWFpbHMgPSBhd2FpdCBQcm9taXNlLmFsbChcclxuICAgICAgbGlzdC5tZXNzYWdlcy5tYXAoYXN5bmMgKG1zZzogYW55KSA9PiB7XHJcbiAgICAgICAgY29uc3QgZGV0YWlsUmVzID0gYXdhaXQgZmV0Y2goXHJcbiAgICAgICAgICBgaHR0cHM6Ly9nbWFpbC5nb29nbGVhcGlzLmNvbS9nbWFpbC92MS91c2Vycy9tZS9tZXNzYWdlcy8ke21zZy5pZH1gLFxyXG4gICAgICAgICAgeyBoZWFkZXJzOiB7IEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHthY2Nlc3NUb2tlbn1gIH0gfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgY29uc3QgZGV0YWlsID0gYXdhaXQgZGV0YWlsUmVzLmpzb24oKTtcclxuICAgICAgICBjb25zdCBoZWFkZXJzID0gZGV0YWlsLnBheWxvYWQuaGVhZGVycztcclxuICAgICAgICBjb25zdCBnZXRIZWFkZXIgPSAobmFtZTogc3RyaW5nKSA9PlxyXG4gICAgICAgICAgaGVhZGVycy5maW5kKChoOiBhbnkpID0+IGgubmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lLnRvTG93ZXJDYXNlKCkpPy52YWx1ZSB8fCBcIlwiO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBpZDogbXNnLmlkLFxyXG4gICAgICAgICAgc2VuZGVyOiBnZXRIZWFkZXIoXCJGcm9tXCIpLFxyXG4gICAgICAgICAgc3ViamVjdDogZ2V0SGVhZGVyKFwiU3ViamVjdFwiKSxcclxuICAgICAgICAgIHNuaXBwZXQ6IGRldGFpbC5zbmlwcGV0LFxyXG4gICAgICAgICAgZGF0ZTogZ2V0SGVhZGVyKFwiRGF0ZVwiKSxcclxuICAgICAgICB9O1xyXG4gICAgICB9KVxyXG4gICAgKTtcclxuXHJcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHsgZW1haWxzIH0pLCB7IHN0YXR1czogMjAwIH0pO1xyXG4gIH0gY2F0Y2ggKGU6IGFueSkge1xyXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IGVycm9yOiBlLm1lc3NhZ2UgfHwgXCJFcnJvciBmZXRjaGluZyBlbWFpbHNcIiB9KSwgeyBzdGF0dXM6IDUwMCB9KTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbImdldFNlcnZlclNlc3Npb24iLCJhdXRoT3B0aW9ucyIsIkdFVCIsInJlcXVlc3QiLCJzZXNzaW9uIiwiYWNjZXNzVG9rZW4iLCJSZXNwb25zZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlcnJvciIsInN0YXR1cyIsImxpc3RSZXMiLCJmZXRjaCIsImhlYWRlcnMiLCJBdXRob3JpemF0aW9uIiwibGlzdCIsImpzb24iLCJtZXNzYWdlcyIsIkVycm9yIiwiZW1haWxzIiwiUHJvbWlzZSIsImFsbCIsIm1hcCIsIm1zZyIsImRldGFpbFJlcyIsImlkIiwiZGV0YWlsIiwicGF5bG9hZCIsImdldEhlYWRlciIsIm5hbWUiLCJmaW5kIiwiaCIsInRvTG93ZXJDYXNlIiwidmFsdWUiLCJzZW5kZXIiLCJzdWJqZWN0Iiwic25pcHBldCIsImRhdGUiLCJlIiwibWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/emails/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/next-auth","vendor-chunks/@babel","vendor-chunks/jose","vendor-chunks/openid-client","vendor-chunks/oauth","vendor-chunks/object-hash","vendor-chunks/preact","vendor-chunks/preact-render-to-string","vendor-chunks/yallist","vendor-chunks/lru-cache","vendor-chunks/cookie","vendor-chunks/oidc-token-hash","vendor-chunks/@panva"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Femails%2Froute&page=%2Fapi%2Femails%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Femails%2Froute.ts&appDir=C%3A%5CUsers%5Cdjjoy%5COneDrive%5CDesktop%5Cmagic%20mail%20classifier%5Cmagic-mail-classifier%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cdjjoy%5COneDrive%5CDesktop%5Cmagic%20mail%20classifier%5Cmagic-mail-classifier&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();